<?php
/**
 * Created by PhpStorm.
 * User: florian
 * Date: 16/11/2018
 * Time: 19:58
 */

class Product
{
    private $id;
    private $id_copy;
    private $name;
    private $price;
    private $stock;
    private $description_big;
    private $description_small;
    private $category;
    private $creation_date;
    private $image;
    private $number_of_review;
    private $number_of_stars;
    private $average_mark;
    private $custom_id;

    /**
     * Product constructor.
     * @param $id
     * @param $id_copy
     * @param $name
     * @param $price
     * @param $stock
     * @param $description_big
     * @param $description_small
     * @param $category
     * @param $creation_date
     * @param $image
     * @param $number_of_review
     * @param $number_of_stars
     * @param $custom_id
     */
    public function __construct(String $id, String $id_copy, String $name, float $price, int $stock, String $description_big, String $description_small, $category, $creation_date, ImageProduct $image, int $number_of_review, int $number_of_stars, $custom_id)
    {
        $this->id = $id;
        $this->id_copy = $id_copy;
        $this->name = $name;
        $this->price = $price;
        $this->stock = $stock;
        $this->description_big = $description_big;
        $this->description_small = $description_small;
        $this->category = $category;
        $this->creation_date = $creation_date;
        $this->image = $image;
        $this->number_of_review = $number_of_review;
        $this->number_of_stars = $number_of_stars;
        $this->custom_id = $custom_id;
    }

    /**
     * @return String
     */
    public function getId(): String
    {
        return $this->id;
    }

    /**
     * @param String $id
     */
    public function setId(String $id)
    {
        $this->id = $id;
    }

    /**
     * @return String
     */
    public function getIdCopy(): String
    {
        return $this->id_copy;
    }

    /**
     * @param String $id_copy
     */
    public function setIdCopy(String $id_copy)
    {
        $this->id_copy = $id_copy;
    }

    /**
     * @return String
     */
    public function getName(): String
    {
        return $this->name;
    }

    /**
     * @param String $name
     */
    public function setName(String $name)
    {
        $this->name = $name;
    }

    /**
     * @return float
     */
    public function getPrice(): float
    {
        return $this->price;
    }

    /**
     * @param float $price
     */
    public function setPrice(float $price)
    {
        $this->price = $price;
    }

    /**
     * @return int
     */
    public function getStock(): int
    {
        return $this->stock;
    }

    /**
     * @param int $stock
     */
    public function setStock(int $stock)
    {
        $this->stock = $stock;
    }

    /**
     * @return String
     */
    public function getDescriptionBig(): String
    {
        return $this->description_big;
    }

    /**
     * @param String $description_big
     */
    public function setDescriptionBig(String $description_big)
    {
        $this->description_big = $description_big;
    }

    /**
     * @return String
     */
    public function getDescriptionSmall(): String
    {
        return $this->description_small;
    }

    /**
     * @param String $description_small
     */
    public function setDescriptionSmall(String $description_small)
    {
        $this->description_small = $description_small;
    }

    /**
     * @return mixed
     */
    public function getCategory()
    {
        return $this->category;
    }

    /**
     * @param mixed $category
     */
    public function setCategory($category)
    {
        $this->category = $category;
    }

    /**
     * @return mixed
     */
    public function getCreationDate()
    {
        return $this->creation_date;
    }

    /**
     * @param mixed $creation_date
     */
    public function setCreationDate($creation_date)
    {
        $this->creation_date = $creation_date;
    }

    /**
     * @return String
     */
    public function getImage(): ImageProduct
    {
        return $this->image;
    }

    /**
     * @param String $image
     */
    public function setImage(ImageProduct $image)
    {
        $this->image = $image;
    }

    /**
     * @return int
     */
    public function getNumberOfReview(): int
    {
        return $this->number_of_review;
    }

    /**
     * @param int $number_of_review
     */
    public function setNumberOfReview(int $number_of_review)
    {
        $this->number_of_review = $number_of_review;
    }

    /**
     * @return int
     */
    public function getNumberOfStars(): int
    {
        return $this->number_of_stars;
    }

    /**
     * @param int $number_of_stars
     */
    public function setNumberOfStars(int $number_of_stars)
    {
        $this->number_of_stars = $number_of_stars;
    }

    /**
     * @return mixed
     */
    public function getAverageMark() : float
    {
        $this->generateAverageMark();
        if($this->average_mark != null)
            return $this->average_mark;
        else return 0;
    }

    /**
     * @param mixed $average_mark
     */
    public function setAverageMark($average_mark)
    {
        $this->average_mark = $average_mark;
    }

    public function generateAverageMark()
    {
        if($this->getNumberOfReview() > 0){
            $this->average_mark = $this->getNumberOfStars() / $this->getNumberOfReview();
        }
    }

    /**
     * @return mixed
     */
    public function getCustomId()
    {
        return $this->custom_id;
    }

    public function getCustomIdString(){
        if($this->custom_id == null) return "AUCUNE";
        else return '#' . strtoupper($this->custom_id);
    }

    /**
     * @param mixed $custom_id
     */
    public function setCustomId($custom_id)
    {
        $this->custom_id = $custom_id;
    }
}